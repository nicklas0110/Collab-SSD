2025-01-10T13:03:07.4186050+01:00  [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2025-01-10T13:03:07.4365490+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2025-01-10T13:03:07.4437270+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";" (0723d8ff)
2025-01-10T13:03:07.4564760+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2025-01-10T13:03:07.5611170+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM \"Users\" AS \"u\")" (0723d8ff)
2025-01-10T13:03:07.6060340+01:00  [INF] User profile is available. Using '"/Users/nick0110/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2025-01-10T13:03:07.9544120+01:00  [INF] Now listening on: "https://localhost:7086" (d826f4b8)
2025-01-10T13:03:07.9544600+01:00  [INF] Now listening on: "http://localhost:5124" (d826f4b8)
2025-01-10T13:03:07.9557540+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-01-10T13:03:07.9558780+01:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-01-10T13:03:07.9559050+01:00  [INF] Content root path: "/Users/nick0110/Documents/GitHub/Collab-SSD/CollabBackend/CollabBackend.Api" (cc26f24e)
2025-01-10T13:03:14.8150240+01:00 0HN9HDR1COBHR:00000001 [INF] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7086""""/api/collaborations""" - null 0 (d509f86a)
2025-01-10T13:03:14.9058380+01:00 0HN9HDR1COBHR:00000001 [INF] CORS policy execution successful. (5409d6ef)
2025-01-10T13:03:14.9103280+01:00 0HN9HDR1COBHR:00000001 [INF] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7086""""/api/collaborations""" - 204 null null 102.41ms (74253ad3)
2025-01-10T13:03:14.9366700+01:00 0HN9HDR1COBHR:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7086""""/api/collaborations""" - "application/json" null (d509f86a)
2025-01-10T13:03:14.9423340+01:00 0HN9HDR1COBHR:00000003 [INF] CORS policy execution successful. (5409d6ef)
2025-01-10T13:03:15.0621920+01:00 0HN9HDR1COBHR:00000003 [INF] Executing endpoint '"CollabBackend.Api.Controllers.CollaborationsController.GetCollaborations (CollabBackend.Api)"' (500cc934)
2025-01-10T13:03:15.0799620+01:00 0HN9HDR1COBHR:00000003 [INF] Route matched with "{action = \"GetCollaborations\", controller = \"Collaborations\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CollabBackend.Core.DTOs.CollaborationDto]]] GetCollaborations()" on controller "CollabBackend.Api.Controllers.CollaborationsController" ("CollabBackend.Api"). (122b2fdf)
2025-01-10T13:03:15.2362640+01:00 0HN9HDR1COBHR:00000003 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"c\".\"Id\", \"c\".\"CreatedAt\", \"c\".\"CreatedById\", \"c\".\"Description\", \"c\".\"Status\", \"c\".\"Title\", \"c\".\"UpdatedAt\", \"u0\".\"Id\", \"u0\".\"CreatedAt\", \"u0\".\"Email\", \"u0\".\"FirstName\", \"u0\".\"LastName\", \"u0\".\"PasswordHash\", \"u0\".\"Role\", \"u0\".\"UpdatedAt\", \"t\".\"CollaborationId\", \"t\".\"ParticipantsId\", \"t\".\"Id\", \"t\".\"CreatedAt\", \"t\".\"Email\", \"t\".\"FirstName\", \"t\".\"LastName\", \"t\".\"PasswordHash\", \"t\".\"Role\", \"t\".\"UpdatedAt\"
FROM \"Collaborations\" AS \"c\"
INNER JOIN \"Users\" AS \"u0\" ON \"c\".\"CreatedById\" = \"u0\".\"Id\"
LEFT JOIN (
    SELECT \"c1\".\"CollaborationId\", \"c1\".\"ParticipantsId\", \"u1\".\"Id\", \"u1\".\"CreatedAt\", \"u1\".\"Email\", \"u1\".\"FirstName\", \"u1\".\"LastName\", \"u1\".\"PasswordHash\", \"u1\".\"Role\", \"u1\".\"UpdatedAt\"
    FROM \"CollaborationParticipants\" AS \"c1\"
    INNER JOIN \"Users\" AS \"u1\" ON \"c1\".\"ParticipantsId\" = \"u1\".\"Id\"
) AS \"t\" ON \"c\".\"Id\" = \"t\".\"CollaborationId\"
WHERE \"c\".\"CreatedById\" = @__userId_0 OR EXISTS (
    SELECT 1
    FROM \"CollaborationParticipants\" AS \"c0\"
    INNER JOIN \"Users\" AS \"u\" ON \"c0\".\"ParticipantsId\" = \"u\".\"Id\"
    WHERE \"c\".\"Id\" = \"c0\".\"CollaborationId\" AND \"u\".\"Id\" = @__userId_0)
ORDER BY \"c\".\"Id\", \"u0\".\"Id\", \"t\".\"CollaborationId\", \"t\".\"ParticipantsId\"" (0723d8ff)
2025-01-10T13:03:15.2858880+01:00 0HN9HDR1COBHR:00000003 [INF] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[CollabBackend.Core.DTOs.CollaborationDto, CollabBackend.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-01-10T13:03:15.3088060+01:00 0HN9HDR1COBHR:00000003 [INF] Executed action "CollabBackend.Api.Controllers.CollaborationsController.GetCollaborations (CollabBackend.Api)" in 225.5274ms (afa2e885)
2025-01-10T13:03:15.3091020+01:00 0HN9HDR1COBHR:00000003 [INF] Executed endpoint '"CollabBackend.Api.Controllers.CollaborationsController.GetCollaborations (CollabBackend.Api)"' (99874f2b)
2025-01-10T13:03:15.3144790+01:00 0HN9HDR1COBHR:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7086""""/api/collaborations""" - 200 null "application/json; charset=utf-8" 377.8313ms (74253ad3)
2025-01-10T13:03:16.2085450+01:00 0HN9HDR1COBHR:00000005 [INF] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7086""""/api/messages/collaboration/2685c257-103a-4bde-b753-a7c3ca0e84ae""" - null 0 (d509f86a)
2025-01-10T13:03:16.2136610+01:00 0HN9HDR1COBHR:00000005 [INF] CORS policy execution successful. (5409d6ef)
2025-01-10T13:03:16.2141220+01:00 0HN9HDR1COBHR:00000005 [INF] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7086""""/api/messages/collaboration/2685c257-103a-4bde-b753-a7c3ca0e84ae""" - 204 null null 6.1092ms (74253ad3)
2025-01-10T13:03:16.2167340+01:00 0HN9HDR1COBHR:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7086""""/api/messages/collaboration/2685c257-103a-4bde-b753-a7c3ca0e84ae""" - "application/json" null (d509f86a)
2025-01-10T13:03:16.2186010+01:00 0HN9HDR1COBHR:00000007 [INF] CORS policy execution successful. (5409d6ef)
2025-01-10T13:03:16.2237480+01:00 0HN9HDR1COBHR:00000007 [INF] Executing endpoint '"CollabBackend.Api.Controllers.MessagesController.GetCollaborationMessages (CollabBackend.Api)"' (500cc934)
2025-01-10T13:03:16.2373070+01:00 0HN9HDR1COBHR:00000007 [INF] Route matched with "{action = \"GetCollaborationMessages\", controller = \"Messages\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CollabBackend.Core.DTOs.MessageDto]]] GetCollaborationMessages(System.Guid)" on controller "CollabBackend.Api.Controllers.MessagesController" ("CollabBackend.Api"). (122b2fdf)
2025-01-10T13:03:16.2809160+01:00 0HN9HDR1COBHR:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__collaborationId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"t\".\"Id\", \"t\".\"CreatedAt\", \"t\".\"CreatedById\", \"t\".\"Description\", \"t\".\"Status\", \"t\".\"Title\", \"t\".\"UpdatedAt\", \"t0\".\"CollaborationId\", \"t0\".\"ParticipantsId\", \"t0\".\"Id\", \"t0\".\"CreatedAt\", \"t0\".\"Email\", \"t0\".\"FirstName\", \"t0\".\"LastName\", \"t0\".\"PasswordHash\", \"t0\".\"Role\", \"t0\".\"UpdatedAt\"
FROM (
    SELECT \"c\".\"Id\", \"c\".\"CreatedAt\", \"c\".\"CreatedById\", \"c\".\"Description\", \"c\".\"Status\", \"c\".\"Title\", \"c\".\"UpdatedAt\"
    FROM \"Collaborations\" AS \"c\"
    WHERE \"c\".\"Id\" = @__collaborationId_0
    LIMIT 1
) AS \"t\"
LEFT JOIN (
    SELECT \"c0\".\"CollaborationId\", \"c0\".\"ParticipantsId\", \"u\".\"Id\", \"u\".\"CreatedAt\", \"u\".\"Email\", \"u\".\"FirstName\", \"u\".\"LastName\", \"u\".\"PasswordHash\", \"u\".\"Role\", \"u\".\"UpdatedAt\"
    FROM \"CollaborationParticipants\" AS \"c0\"
    INNER JOIN \"Users\" AS \"u\" ON \"c0\".\"ParticipantsId\" = \"u\".\"Id\"
) AS \"t0\" ON \"t\".\"Id\" = \"t0\".\"CollaborationId\"
ORDER BY \"t\".\"Id\", \"t0\".\"CollaborationId\", \"t0\".\"ParticipantsId\"" (0723d8ff)
2025-01-10T13:03:16.2864590+01:00 0HN9HDR1COBHR:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__collaborationId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"m\".\"Id\", \"m\".\"CollaborationId\", \"m\".\"Content\", \"m\".\"CreatedAt\", \"m\".\"Read\", \"m\".\"SenderId\", \"m\".\"UpdatedAt\", \"u\".\"Id\", \"u\".\"CreatedAt\", \"u\".\"Email\", \"u\".\"FirstName\", \"u\".\"LastName\", \"u\".\"PasswordHash\", \"u\".\"Role\", \"u\".\"UpdatedAt\"
FROM \"Messages\" AS \"m\"
INNER JOIN \"Users\" AS \"u\" ON \"m\".\"SenderId\" = \"u\".\"Id\"
WHERE \"m\".\"CollaborationId\" = @__collaborationId_0
ORDER BY \"m\".\"CreatedAt\"" (0723d8ff)
2025-01-10T13:03:16.3216190+01:00 0HN9HDR1COBHR:00000007 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[CollabBackend.Core.DTOs.MessageDto, CollabBackend.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-01-10T13:03:16.3255090+01:00 0HN9HDR1COBHR:00000007 [INF] Executed action "CollabBackend.Api.Controllers.MessagesController.GetCollaborationMessages (CollabBackend.Api)" in 88.1232ms (afa2e885)
2025-01-10T13:03:16.3255400+01:00 0HN9HDR1COBHR:00000007 [INF] Executed endpoint '"CollabBackend.Api.Controllers.MessagesController.GetCollaborationMessages (CollabBackend.Api)"' (99874f2b)
2025-01-10T13:03:16.3257510+01:00 0HN9HDR1COBHR:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7086""""/api/messages/collaboration/2685c257-103a-4bde-b753-a7c3ca0e84ae""" - 200 null "application/json; charset=utf-8" 109.033ms (74253ad3)
